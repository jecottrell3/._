#! /must/source/this/file
# $Id: setdn 278 2014-06-12 00:18:14Z JECottrell3@gmail.com $
################################################################
#	Initialize Environment
################################################################
# [0] must SOURCE this file
# [1] must be in home directory
# [2] init must be a symlink or a real directory
# [3] everything in init gets symlinked to home
# [4] previous versions saved in ~/.save.$$
################################################################

SAVE=${SAVE:-${1:?'No Save Directory'}}
REST=.rest.$(date +%H%M)

INIT=._

test -d $INIT || return
test -d $SAVE || return

mkdir -p $REST

ls -a ._/. |
while read x
do
	case $x in
	(.|..)		continue;;
	(.svn)		continue;;
	(CVS)		continue;;
	(.profile)	continue;;
	(setup)		continue;;
	(setdn)		continue;;
	 (*~)		continue;;
	(.*~)		continue;;
	(*)	test -e	$x       && mv $x $REST;
		test -e	$SAVE/$x && mv $SAVE/$x .;;
	esac

done

pwd
ls -l  .bash_profile
ls -lL .bash_profile
source ./.bash_profile

################################################################
